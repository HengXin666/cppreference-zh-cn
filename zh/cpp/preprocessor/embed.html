<!DOCTYPE html>
<html lang="zh" dir="ltr" class="client-nojs">
<head>
<title>资源包含 (C++26 起)</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.21.2">
<link rel="shortcut icon" href="../../../common/favicon.ico">
<link rel="stylesheet" href="../../../common/ext.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="../../../common/site_modules.css">
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}#toc{display:none}.editsection{display:none}
/* cache key: mwiki1-mwiki_zh_:resourceloader:filter:minify-css:7:15cea3ec788a65b5187d4018eed543bf */</style>

<script src="../../../common/startup_scripts.js"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"cpp/preprocessor/embed","wgTitle":"cpp/preprocessor/embed","wgCurRevisionId":100200,"wgArticleId":17095,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"zh","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"zh","wgMonthNames":["","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"wgMonthNamesShort":["","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"wgRelevantPageName":"cpp/preprocessor/embed","wgUserVariant":"zh","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":0,"showtoolbar":1,"skin":"cppreference2","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"zh","language":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"gadget-MathJax":1,"gadget-ColiruCompiler":1});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});;},{},{});
/* cache key: mwiki1-mwiki_zh_:resourceloader:filter:minify-js:7:258d7cd6aa9aa67dee25e01fb6a9e505 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000dd;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #909090;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es1 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es2 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es3 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es4 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es5 {color: #008000; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #008000;}
.cpp.source-cpp .nu0 {color: #000080;}
.cpp.source-cpp .nu6 {color: #000080;}
.cpp.source-cpp .nu8 {color: #000080;}
.cpp.source-cpp .nu12 {color: #000080;}
.cpp.source-cpp .nu16 {color:#000080;}
.cpp.source-cpp .nu17 {color:#000080;}
.cpp.source-cpp .nu18 {color:#000080;}
.cpp.source-cpp .nu19 {color:#000080;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_preprocessor_embed skin-cppreference2 action-view cpp-navbar">
        <!-- header -->
        <!-- /header -->
        <!-- content -->
<div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8HW0LXMYCY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8HW0LXMYCY');
</script>
                <h1 id="firstHeading" class="firstHeading">资源包含 <span class="t-mark-rev t-since-cxx26" style="white-space: nowrap;">(C++26 起)</span></h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    <div id="siteSub">来自cppreference.com</div>
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    <div id="contentSub"><span class="subpages">&lt; <a href="../../cpp.html" title="cpp">cpp</a>‎ | <a href="../preprocessor.html" title="cpp/preprocessor">preprocessor</a></span></div>
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div id="mw-content-text" lang="zh" dir="ltr" class="mw-content-ltr"><p><br>
</p>
<div class="t-navbar" style=""><div class="t-navbar-sep"> </div><div class="t-navbar-head"><a href="../../cpp.html" title="cpp"> C++</a><div class="t-navbar-menu"><div><div><table class="t-nv-begin" cellpadding="0" style="line-height:1.1em;">
<tr class="t-nv"><td colspan="5"><a href="../compiler_support.html" title="cpp/compiler support">编译器支持</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../freestanding.html" title="cpp/freestanding">自立实现与有宿主实现</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language.html" title="cpp/language">语言</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../standard_library.html" title="cpp/standard library">标准库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../header.html" title="cpp/header">标准库标头</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../named_req.html" title="cpp/named req">具名要求</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../feature_test.html" title="cpp/feature test">功能特性测试宏</a> <span class="t-mark-rev t-since-cxx20" style="white-space: nowrap;">(C++20)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../utility.html#.E8.AF.AD.E8.A8.80.E6.94.AF.E6.8C.81" title="cpp/utility">语言支持库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../concepts.html" title="cpp/concepts">概念库</a> <span class="t-mark-rev t-since-cxx20" style="white-space: nowrap;">(C++20)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../error.html" title="cpp/error">诊断库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../memory.html" title="cpp/memory">内存管理库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../meta.html" title="cpp/meta">元编程库</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../utility.html" title="cpp/utility">通用工具库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../container.html" title="cpp/container">容器库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../iterator.html" title="cpp/iterator">迭代器库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../ranges.html" title="cpp/ranges">范围库</a> <span class="t-mark-rev t-since-cxx20" style="white-space: nowrap;">(C++20)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../algorithm.html" title="cpp/algorithm">算法库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../string.html" title="cpp/string">字符串库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../text.html" title="cpp/text">文本处理库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../numeric.html" title="cpp/numeric">数值库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../chrono.html" title="cpp/chrono">日期和时间库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../io.html" title="cpp/io">输入/输出库</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../filesystem.html" title="cpp/filesystem">文件系统库</a> <span class="t-mark-rev t-since-cxx17" style="white-space: nowrap;">(C++17)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../thread.html" title="cpp/thread">并发支持库</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../execution.html" title="cpp/execution">执行控制库</a> <span class="t-mark-rev t-since-cxx26" style="white-space: nowrap;">(C++26)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../experimental.html" title="cpp/experimental">技术规范</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../symbol_index.html" title="cpp/symbol index">符号索引</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../links/libs.html" title="cpp/links/libs">外部库</a></td></tr>
</table></div><div></div></div></div></div><div class="t-navbar-sep"> </div><div class="t-navbar-head"><a href="../language.html" title="cpp/language">C++ 语言</a><div class="t-navbar-menu"><div><div style="display:inline-block">
<div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv-h1"><td colspan="5">一般主题</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../preprocessor.html" title="cpp/preprocessor">预处理器</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../comment.html" title="cpp/comment">注释</a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../keyword.html" title="cpp/keyword">关键词</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/escape.html" title="cpp/language/escape">转义序列</a></td></tr>
</table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"><a href="../language/statements.html" title="cpp/language/statements">流程控制</a></td></tr>
<tr class="t-nv-h2"><td colspan="5">条件执行语句</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/if.html" title="cpp/language/if"><tt>if</tt></a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/switch.html" title="cpp/language/switch"><tt>switch</tt></a></td></tr>
</table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5">重复语句（循环）</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/for.html" title="cpp/language/for"><tt>for</tt></a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/range-for.html" title="cpp/language/range-for">范围 <span class="mw-geshi cpp source-cpp"><span class="kw1">for</span></span></a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/while.html" title="cpp/language/while"><tt>while</tt></a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/do.html" title="cpp/language/do"><code>do-while</code></a></td></tr>
</table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5">跳转语句</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/continue.html" title="cpp/language/continue"><tt>continue</tt></a> - <a href="../language/break.html" title="cpp/language/break"><tt>break</tt></a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/goto.html" title="cpp/language/goto"><tt>goto</tt></a> - <a href="../language/return.html" title="cpp/language/return"><tt>return</tt></a></td></tr>
</table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"><a href="../language/functions.html" title="cpp/language/functions">函数</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/function.html" title="cpp/language/function">函数声明</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/lambda.html" title="cpp/language/lambda">lambda 函数表达式</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/inline.html" title="cpp/language/inline"><span class="mw-geshi cpp source-cpp"><span class="kw1">inline</span></span> 说明符</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/except_spec.html" title="cpp/language/except spec">动态异常说明</a> <span class="t-mark" style="white-space: nowrap;">(<span title="C++11 中弃用">C++17 前*</span>)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/noexcept_spec.html" title="cpp/language/noexcept spec"><span class="mw-geshi cpp source-cpp"><span class="kw1">noexcept</span></span> 说明符</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
<tr class="t-nv-h1"><td colspan="5">异常</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/throw.html" title="cpp/language/throw"><span class="mw-geshi cpp source-cpp"><span class="kw1">throw</span></span> 表达式</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/try.html" title="cpp/language/try"><span class="mw-geshi cpp source-cpp"><span class="kw1">try</span></span> 块</a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"> <br>
</td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/catch.html" title="cpp/language/catch"><code>catch</code> 处理块</a></td></tr>
</table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5">命名空间</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/namespace.html" title="cpp/language/namespace">命名空间声明</a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/namespace_alias.html" title="cpp/language/namespace alias">命名空间别名</a></td></tr>
</table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5">类型</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/types.html" title="cpp/language/types">基础类型</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/enum.html" title="cpp/language/enum">枚举类型</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/function.html" title="cpp/language/function">函数类型</a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/class.html" title="cpp/language/class">类/结构体类型</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/union.html" title="cpp/language/union">联合体类型</a></td></tr>
<tr class="t-nv"><td colspan="5"> <br>
</td></tr>
</table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5">说明符</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/cv.html" title="cpp/language/cv"><span class="mw-geshi cpp source-cpp"><span class="kw4">const</span></span>/<span class="mw-geshi cpp source-cpp"><span class="kw4">volatile</span></span></a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/decltype.html" title="cpp/language/decltype"><tt>decltype</tt></a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span>  </td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/auto.html" title="cpp/language/auto"><tt>auto</tt></a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/constexpr.html" title="cpp/language/constexpr"><tt>constexpr</tt></a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span>  </td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/consteval.html" title="cpp/language/consteval"><tt>consteval</tt></a> <span class="t-mark-rev t-since-cxx20" style="white-space: nowrap;">(C++20)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/constinit.html" title="cpp/language/constinit"><tt>constinit</tt></a> <span class="t-mark-rev t-since-cxx20" style="white-space: nowrap;">(C++20)</span></td></tr>
</table></div></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/storage_duration.html" title="cpp/language/storage duration">存储期说明符</a></td></tr>
<tr class="t-nv-h2"><td colspan="5"><a href="../language/initialization.html" title="cpp/language/initialization">初始化</a></td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/default_initialization.html" title="cpp/language/default initialization">默认初始化</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/value_initialization.html" title="cpp/language/value initialization">值初始化</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/zero_initialization.html" title="cpp/language/zero initialization">零初始化</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/copy_initialization.html" title="cpp/language/copy initialization">复制初始化</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/direct_initialization.html" title="cpp/language/direct initialization">直接初始化</a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/aggregate_initialization.html" title="cpp/language/aggregate initialization">聚合初始化</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/list_initialization.html" title="cpp/language/list initialization">列表初始化</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/constant_initialization.html" title="cpp/language/constant initialization">常量初始化</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/reference_initialization.html" title="cpp/language/reference initialization">引用初始化</a></td></tr>
<tr class="t-nv"><td colspan="5"> <br>
</td></tr>
</table></div></td></tr>
</table></div>
</div>
<div style="display:inline-block">
<div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv-h1"><td colspan="5"><a href="../language/expressions.html" title="cpp/language/expressions">表达式</a></td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/value_category.html" title="cpp/language/value category">值类别</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/eval_order.html" title="cpp/language/eval order">求值顺序</a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/operators.html" title="cpp/language/operators">运算符</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/operator_precedence.html" title="cpp/language/operator precedence">运算符优先级</a></td></tr>
</table></div></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/operator_alternative.html" title="cpp/language/operator alternative">替代表示</a></td></tr>
<tr class="t-nv-h2"><td colspan="5"><a href="../language/expressions.html#.E5.AD.97.E9.9D.A2.E9.87.8F" title="cpp/language/expressions">字面量</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/bool_literal.html" title="cpp/language/bool literal">布尔</a> - <a href="../language/integer_literal.html" title="cpp/language/integer literal">整数</a> - <a href="../language/floating_literal.html" title="cpp/language/floating literal">浮点</a></td></tr>   
<tr class="t-nv"><td colspan="5"><a href="../language/character_literal.html" title="cpp/language/character literal">字符</a> - <a href="../language/string_literal.html" title="cpp/language/string literal">字符串</a> - <a href="../language/nullptr.html" title="cpp/language/nullptr"><tt>nullptr</tt></a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr> 
<tr class="t-nv"><td colspan="5"><a href="../language/user_literal.html" title="cpp/language/user literal">用户定义</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
<tr class="t-nv-h1"><td colspan="5">工具</td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/attributes.html" title="cpp/language/attributes">属性</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
<tr class="t-nv-h2"><td colspan="5">类型</td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/typedef.html" title="cpp/language/typedef"><code>typedef</code> 声明</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/type_alias.html" title="cpp/language/type alias">类型别名声明</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
<tr class="t-nv-h2"><td colspan="5">类型转换</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/implicit_conversion.html" title="cpp/language/implicit conversion">隐式转换</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/static_cast.html" title="cpp/language/static cast"><tt>static_cast</tt></a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/const_cast.html" title="cpp/language/const cast"><tt>const_cast</tt></a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/explicit_cast.html" title="cpp/language/explicit cast">显式转换</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/dynamic_cast.html" title="cpp/language/dynamic cast"><tt>dynamic_cast</tt></a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/reinterpret_cast.html" title="cpp/language/reinterpret cast"><tt>reinterpret_cast</tt></a></td></tr>
</table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5">内存分配</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/new.html" title="cpp/language/new"><code>new</code> 表达式</a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/delete.html" title="cpp/language/delete"><code>delete</code> 表达式</a></td></tr>
</table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"><a href="../language/classes.html" title="cpp/language/classes">类</a></td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/class.html" title="cpp/language/class">类声明</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/constructor.html" title="cpp/language/constructor">构造函数</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/this.html" title="cpp/language/this"><code>this</code> 指针</a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/access.html" title="cpp/language/access">访问说明符</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/friend.html" title="cpp/language/friend"><code>friend</code> 说明符</a></td></tr>
<tr class="t-nv"><td colspan="5"> <br>
</td></tr>
</table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5">类特有的函数性质</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/virtual.html" title="cpp/language/virtual">虚函数</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/override.html" title="cpp/language/override"><code>override</code> 说明符</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span>  </td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/final.html" title="cpp/language/final"><code>final</code> 说明符</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/explicit.html" title="cpp/language/explicit"><tt>explicit</tt></a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/static.html" title="cpp/language/static"><tt>static</tt></a></td></tr>
<tr class="t-nv"><td colspan="5"> <br>
</td></tr>
</table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5">特殊成员函数</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/default_constructor.html" title="cpp/language/default constructor">默认构造函数</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/copy_constructor.html" title="cpp/language/copy constructor">复制构造函数</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/move_constructor.html" title="cpp/language/move constructor">移动构造函数</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/copy_assignment.html" title="cpp/language/copy assignment">复制赋值</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/move_assignment.html" title="cpp/language/move assignment">移动赋值</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/destructor.html" title="cpp/language/destructor">析构函数</a></td></tr>
</table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"><a href="../language/templates.html" title="cpp/language/templates">模板</a></td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/class_template.html" title="cpp/language/class template">类模板</a></td></tr>
<tr class="t-nv"><td colspan="5"><a href="../language/function_template.html" title="cpp/language/function template">函数模板</a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/template_specialization.html" title="cpp/language/template specialization">模板特化</a></td></tr>   
<tr class="t-nv"><td colspan="5"><a href="../language/pack.html" title="cpp/language/pack">形参包</a> <span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></td></tr>
</table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5">杂项</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/asm.html" title="cpp/language/asm">内联汇编</a></td></tr>
</table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><a href="../language/history.html" title="cpp/language/history">C++ 的历史</a></td></tr>
</table></div></td></tr>
</table></div>
</div><div></div></div></div></div><div class="t-navbar-sep"> </div><div class="t-navbar-head"><a href="../preprocessor.html" title="cpp/preprocessor">预处理器</a><div class="t-navbar-menu"><div><div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv"><td colspan="5"><div class="t-nv-ln-table"><div><a href="conditional.html" title="cpp/preprocessor/conditional"><span class="t-lines"><span>#if</span><span>#ifdef</span><span>#ifndef</span><span>#else</span><span>#elif</span><span>#elifdef</span><span>#elifndef</span><span>#endif</span></span></a></div><div><span class="t-lines"><span></span><span></span><span></span><span></span><span></span><span><span class="t-mark-rev t-since-cxx23" style="white-space: nowrap;">(C++23)</span></span><span><span class="t-mark-rev t-since-cxx23" style="white-space: nowrap;">(C++23)</span></span></span></div></div></td></tr>
<tr class="t-nv"><td colspan="5"><div class="t-nv-ln-table"><div><a href="replace.html" title="cpp/preprocessor/replace"><span class="t-lines"><span>#define</span><span>#undef</span><span>#,## 运算符</span></span></a></div></div></td></tr>
<tr class="t-nv"><td colspan="5"><div class="t-nv-ln-table"><div><a href="include.html" title="cpp/preprocessor/include"><span class="t-lines"><span>#include</span><span>__has_include</span></span></a></div><div><span class="t-lines"><span></span><span><span class="t-mark-rev t-since-cxx17" style="white-space: nowrap;">(C++17)</span></span></span></div></div></td></tr>
<tr class="t-nv"><td colspan="5"><div class="t-nv-ln-table"><div><a href="error.html" title="cpp/preprocessor/error"><span class="t-lines"><span>#error</span><span>#warning</span></span></a></div><div><span class="t-lines"><span></span><span><span class="t-mark-rev t-since-cxx23" style="white-space: nowrap;">(C++23)</span></span></span></div></div></td></tr>
<tr class="t-nv"><td colspan="5"><div class="t-nv-ln-table"><div><a href="impl.html" title="cpp/preprocessor/impl"><span class="t-lines"><span>#pragma</span><span>_Pragma</span></span></a></div><div><span class="t-lines"><span></span><span><span class="t-mark-rev t-since-cxx11" style="white-space: nowrap;">(C++11)</span></span></span></div></div></td></tr>
<tr class="t-nv"><td colspan="5"><div class="t-nv-ln-table"><div><a href="line.html" title="cpp/preprocessor/line"><span class="t-lines"><span>#line</span></span></a></div></div></td></tr>
<tr class="t-nv"><td colspan="5"><div class="t-nv-ln-table"><div><strong class="selflink"><span class="t-lines"><span>#embed</span></span></strong></div><div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx26" style="white-space: nowrap;">(C++26)</span></span></span></div></div></td></tr>
</table></div><div></div></div></div></div><div class="t-navbar-sep"> </div></div>
<p><span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 是用于包含<a href="embed.html#.E8.B5.84.E6.BA.90">资源</a>的预处理器指令。
</p>
<h3><span class="mw-headline" id=".E8.AF.AD.E6.B3.95">语法</span></h3>
<table class="t-sdsc-begin">

<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>#embed &lt;</b></code> <span class="t-spar">h字符序列</span> <code><b>&gt;</b></code> <span class="t-spar">记号序列</span> <span class="t-spar">换行</span>
</td>
<td> (1)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>#embed "</b></code> <span class="t-spar">q字符序列</span> <code><b>"</b></code> <span class="t-spar">记号序列</span> <span class="t-spar">换行</span>
</td>
<td> (2)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>#embed</b></code> <span class="t-spar">记号序列</span> <span class="t-spar">换行</span>
</td>
<td> (3)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>__has_embed</b></code> <code><b>(</b></code> <span class="t-spar">平衡记号序列</span> <code><b>)</b></code>
</td>
<td> (4)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></table>
<div class="t-li1"><span class="t-li">1)</span> 搜索由<span class="t-spar">h字符序列</span> ﻿唯一识别的资源，并将该指令替换为这个资源的全部内容。</div>
<div class="t-li1"><span class="t-li">2)</span> 搜索由<span class="t-spar">q字符序列</span> ﻿识别的资源，并将该指令替换为这个资源的全部内容。可能退回至语法 <span class="t-v">(1)</span> 并将<span class="t-spar">q字符序列</span> ﻿视为资源标识符。</div>
<div class="t-li1"><span class="t-li">3)</span> 如果 <span class="t-v">(1)</span> 和 <span class="t-v">(2)</span> 都不匹配，<span class="t-spar">记号序列</span> ﻿会经历宏替换。该指令在替换后会再次尝试匹配 <span class="t-v">(1)</span> 和 <span class="t-v">(2)</span>。</div>
<div class="t-li1"><span class="t-li">4)</span> 检查是否可以以指定<a href="embed.html#.E5.B5.8C.E5.85.A5.E5.8F.82.E6.95.B0">嵌入参数</a>包含一个资源。</div>
<table class="t-par-begin">


<tr class="t-par">
<td> <span class="t-spar">换行</span>
</td>
<td> -
</td>
<td> 换行字符
</td></tr>
<tr class="t-par">
<td> <span class="t-spar">h字符序列</span>
</td>
<td> -
</td>
<td> 一个或多个<span class="t-spar">h字符</span> ﻿的序列（见 <a href="include.html" title="cpp/preprocessor/include"><code>#include</code></a>）
</td></tr>
<tr class="t-par">
<td> <span class="t-spar">q字符序列</span>
</td>
<td> -
</td>
<td> 一个或多个<span class="t-spar">q字符</span> ﻿的序列（见 <a href="include.html" title="cpp/preprocessor/include"><code>#include</code></a>）
</td></tr>
<tr class="t-par">
<td> <span class="t-spar">记号序列</span>
</td>
<td> -
</td>
<td> 一个或多个<a href="../language/translation_phases.html#.E9.A2.84.E5.A4.84.E7.90.86.E8.AE.B0.E5.8F.B7" title="cpp/language/translation phases">预处理记号</a>的序列
</td></tr>
<tr class="t-par">
<td> <span class="t-spar">平衡记号序列</span>
</td>
<td> -
</td>
<td> 一个或多个预处理记号的序列，其中每个 <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="br0">(</span></span></span>、<span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="br0">[</span></span></span> 和 <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="br0">{</span></span></span> 都有正确关闭
</td></tr></table>
<h3><span class="mw-headline" id=".E8.A7.A3.E9.87.8A">解释</span></h3>
<div class="t-li1"><span class="t-li">1)</span> 在一系列地点中搜索由<span class="t-spar">h字符序列</span> ﻿唯一识别的资源，并将该指令替换为这个资源的全部内容。由实现定义如何指定这些地点和识别标头。</div>
<div class="t-li1"><span class="t-li">2)</span> 将该指令替换为由<span class="t-spar">q字符序列</span> ﻿识别的资源的全部内容。所指名的资源通过由实现定义的方式进行搜索。</div>
<div class="t-li1"><span class="t-li"></span> 如果不支持这种搜索或者搜索失败，该指令按语法 <span class="t-v">(1)</span> 重新处理，将原指令中包含的序列（包括 <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy1">&gt;</span></span></span> 字符，如果存在）作为语法 <span class="t-v">(1)</span> 中所需的序列。</div>
<div class="t-li1"><span class="t-li">3)</span> 该指令中 <code><b>embed</b></code> 后面的预处理记号会按在正常文本中进行处理（即每个目前定义为宏名的标识符都会被替换为它的预处理记号替换列表）。</div>
<div class="t-li1"><span class="t-li"></span> 如果在所有替换都完成后生成的指令不匹配前面两种语法，那么行为未定义。</div>
<div class="t-li1"><span class="t-li"></span> 将在一对预处理记号 <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy1">&lt;</span></span></span> 和 <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy1">&gt;</span></span></span> 之间或一对 <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="st0">"</span></span></span> 字符之前的预处理记号序列合并为单个资源预处理记号的方法由实现定义。</div>
<div class="t-li1"><span class="t-li">4)</span> 将<span class="t-spar">平衡记号序列</span> ﻿用作具有语法 <span class="t-v">(3)</span> 的某个虚设 <span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 指令的<span class="t-spar">记号序列</span> ﻿并搜索资源。
<ul><li> 如果刚才的语法 <span class="t-v">(3)</span> 指令不满足 <span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 指令的语法要求，那么程序非良构。
</li><li> 否则，如果资源搜索成功且所有给定的<a href="embed.html#.E5.B5.8C.E5.85.A5.E5.8F.82.E6.95.B0">嵌入参数</a>均受支持，那么 <code>__has_embed</code> 表达式在资源非空时求值为 <span class="t-c"><span class="mw-geshi cpp source-cpp">__STDC_EMBED_FOUND__</span></span>，在资源为空时求值为 <span class="t-c"><span class="mw-geshi cpp source-cpp">__STDC_EMBED_EMPTY__</span></span>。
</li><li> 否则 <code>__has_embed</code> 表达式求值为 <span class="t-c"><span class="mw-geshi cpp source-cpp">__STDC_EMBED_NOT_FOUND__</span></span>。</li></ul></div>

<h3><span class="mw-headline" id=".E8.B5.84.E6.BA.90">资源</span></h3>
<p><i>资源 ﻿</i>是可以从翻译环境访问的数据源。资源具有<i>实现资源宽度</i>，它是由实现定义的以位表示的资源大小。如果实现资源宽度不是 <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../types/climits.html"><span class="kw394">CHAR_BIT</span></a></span></span> 的整数倍数，那么程序非良构。
</p><p>设<i>实现资源计数 ﻿</i>为实现资源宽度除以 <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../types/climits.html"><span class="kw394">CHAR_BIT</span></a></span></span> 的结果。每个资源也具有<i>资源计数</i>，它是实现资源计数本身，除非提供了 <a href="embed.html#limit_.E5.8F.82.E6.95.B0"><code>limit</code></a> 嵌入参数。
</p><p>如果资源计数为零，那么该资源为<i>空</i>。
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// 实现资源宽度是 6 位时程序非良构</span>
<span class="co2">#embed "6_bits.bin"</span></pre></div></div>
<h3><span class="mw-headline" id=".E5.B5.8C.E5.85.A5.E8.B5.84.E6.BA.90">嵌入资源</span></h3>
<p>除非另有修改，<span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 指令会被替换为逗号分隔的 <span class="mw-geshi cpp source-cpp"><span class="kw4">int</span></span> 类型<a href="../language/integer_literal.html" title="cpp/language/integer literal">整数字面量</a>。
</p><p>该逗号分隔列表中的整数字面量对应从作为二进制文件的资源连续调用资源计数次 <span class="t-lc"><a href="../io/c/fgetc.html" title="cpp/io/c/fgetc">std::fgetc</a></span>。如果其中一次 <span class="t-lc"><a href="../io/c/fgetc.html" title="cpp/io/c/fgetc">std::fgetc</a></span> 调用返回 <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../io/c.html"><span class="kw1886">EOF</span></a></span></span>，那么程序非良构。
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">int</span> i <span class="sy1">=</span>
<span class="br0">{</span>
<span class="co2">#embed "i.dat"</span>
<span class="br0">}</span><span class="sy4">;</span> <span class="co1">// i.dat 产生单个值的情况下良构</span>
 
<span class="kw4">int</span> i2 <span class="sy1">=</span>
<span class="co2">#embed "i.dat"</span>
<span class="sy4">;</span> <span class="co1">// i.dat 产生单个值的情况下也良构</span>
 
<span class="kw1">struct</span> T
<span class="br0">{</span>
    <span class="kw4">double</span> a, b, c<span class="sy4">;</span>
    <span class="kw1">struct</span> <span class="br0">{</span> <span class="kw4">double</span> e, f, g<span class="sy4">;</span> <span class="br0">}</span> x<span class="sy4">;</span>
    <span class="kw4">double</span> h, i, j<span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
T x <span class="sy1">=</span>
<span class="br0">{</span>
<span class="co1">// 指令产生九个值或更少的情况下良构</span>
<span class="co2">#embed "s.dat"</span>
<span class="br0">}</span><span class="sy4">;</span></pre></div></div>
<h3><span class="mw-headline" id=".E5.B5.8C.E5.85.A5.E5.8F.82.E6.95.B0">嵌入参数</span></h3>
<p>如果语法 <span class="t-v">(1)</span> 或语法 <span class="t-v">(2)</span> 中有出现<span class="t-spar">记号序列</span>，那么它会按在正常文本中进行处理。处理后的<span class="t-spar">记号序列</span> ﻿应组成一个<i>嵌入参数 ﻿</i>序列，否则程序非良构。嵌入参数具有以下语法：
</p>
<table class="t-sdsc-begin">

<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>limit</b></code> <code><b>(</b></code> <span class="t-spar">平衡记号序列</span> <code><b>)</b></code>
</td>
<td> (1)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>prefix</b></code> <code><b>(</b></code> <span class="t-spar">平衡记号序列</span> ﻿<span class="t-mark" style="white-space: nowrap;">(可选)</span> <code><b>)</b></code>
</td>
<td> (2)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>suffix</b></code> <code><b>(</b></code> <span class="t-spar">平衡记号序列</span> ﻿<span class="t-mark" style="white-space: nowrap;">(可选)</span> <code><b>)</b></code>
</td>
<td> (3)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>if_empty</b></code> <code><b>(</b></code> <span class="t-spar">平衡记号序列</span> ﻿<span class="t-mark" style="white-space: nowrap;">(可选)</span> <code><b>)</b></code>
</td>
<td> (4)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <span class="t-spar">标识符</span> <code><b>::</b></code> <span class="t-spar">标识符</span>
</td>
<td> (5)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <span class="t-spar">标识符</span> <code><b>::</b></code> <span class="t-spar">标识符</span> <code><b>(</b></code> <span class="t-spar">平衡记号序列</span> ﻿<span class="t-mark" style="white-space: nowrap;">(可选)</span> <code><b>)</b></code>
</td>
<td> (6)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></table>
<div class="t-li1"><span class="t-li">1-4)</span> 标准嵌入参数。</div>
<div class="t-li2"><span class="t-li">1)</span> 限制嵌入的资源的资源计数。</div>
<div class="t-li2"><span class="t-li">2)</span> 向嵌入的非空资源添加前缀。</div>
<div class="t-li2"><span class="t-li">3)</span> 向嵌入的非空资源添加后缀。</div>
<div class="t-li2"><span class="t-li">4)</span> 在嵌入的资源为空时将其替换。</div>
<div class="t-li1"><span class="t-li">5,6)</span> 非标准嵌入参数。这种参数受条件性支持，并具有由实现定义的语义。</div>
<p><span id="limit_.E5.8F.82.E6.95.B0"></span>
</p>
<h4><span class="mw-headline" id="limit_.E5.8F.82.E6.95.B0"><code>limit</code> 参数</span></h4>
<p>形式为 <code><b>limit</b></code> <code><b>(</b></code> <span class="t-spar">平衡记号序列</span> <code><b>)</b></code> 的嵌入参数在每个 <span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 指令中最多只能出现一次。
</p><p><span class="t-spar">平衡记号序列</span> ﻿会按在正常文本中进行处理以组成<a href="../language/constant_expression.html" title="cpp/language/constant expression">常量表达式</a>，但不会对 <code>defined</code>、<code>__has_include</code>、<code>__has_cpp_attribute</code> 和 <code>__has_embed</code> 表达式求值。
</p><p>组成的常量表达式必须是具有非负值的<a href="../language/constant_expression.html#.E6.95.B4.E6.95.B0.E5.B8.B8.E9.87.8F.E8.A1.A8.E8.BE.BE.E5.BC.8F" title="cpp/language/constant expression">整数常量表达式</a>：
</p>
<ul><li> 如果该常量表达式的值大于实现资源计数，那么资源计数依然是实现资源计数。
</li><li> 否则资源计数就是该常量表达式的值。
</li></ul>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">constexpr</span> <span class="kw4">unsigned</span> <span class="kw4">char</span> sound_signature<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span>
<span class="br0">{</span>
<span class="co1">// 某个能够展开为至少是个元素的假想资源</span>
<span class="co2">#embed &lt;sdk/jump.wav&gt; limit(2 + 2)</span>
<span class="br0">}</span><span class="sy4">;</span>
 
static_assert<span class="br0">(</span>sizeof<span class="br0">(</span>sound_signature<span class="br0">)</span> <span class="sy1">==</span> <span class="nu0">4</span><span class="br0">)</span><span class="sy4">;</span>
 
<span class="co1">// 等价于 to #embed &lt;data.dat&gt; limit(10)</span>
<span class="co2">#define DATA_LIMIT 10</span>
<span class="co2">#embed &lt;data.dat&gt; limit(DATA_LIMIT)</span>
 
<span class="co1">// 非良构</span>
<span class="co2">#embed &lt;data.dat&gt; limit(__has_include("a.h"))</span></pre></div></div>
<p><span id="prefix_.E5.8F.82.E6.95.B0"></span>
</p>
<h4><span class="mw-headline" id="prefix_.E5.8F.82.E6.95.B0"><code>prefix</code> 参数</span></h4>
<p>形式为 <code><b>prefix</b></code> <code><b>(</b></code> <span class="t-spar">平衡记号序列</span> ﻿<span class="t-mark" style="white-space: nowrap;">(可选)</span> <code><b>)</b></code> 的嵌入参数在每个 <span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 指令中最多只能出现一次。
</p><p>如果资源为空，那么忽略此嵌入参数。否则将<span class="t-spar">平衡记号序列</span> ﻿放在紧接在逗号分隔的整数字面量列表之前的位置。
</p><p><span id="suffix_.E5.8F.82.E6.95.B0"></span>
</p>
<h4><span class="mw-headline" id="suffix_.E5.8F.82.E6.95.B0"><code>suffix</code> 参数</span></h4>
<p>形式为 <code><b>suffix</b></code> <code><b>(</b></code> <span class="t-spar">平衡记号序列</span> ﻿<span class="t-mark" style="white-space: nowrap;">(可选)</span> <code><b>)</b></code> 的嵌入参数在每个 <span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 指令中最多只能出现一次。
</p><p>如果资源为空，那么忽略此嵌入参数。否则将<span class="t-spar">平衡记号序列</span> ﻿放在紧接在逗号分隔的整数字面量列表之后的位置。
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">constexpr</span> <span class="kw4">unsigned</span> <span class="kw4">char</span> whl<span class="br0">[</span><span class="br0">]</span> <span class="sy1">=</span>
<span class="br0">{</span>
<span class="co2">#embed "chess.glsl" \
    prefix(0xEF, 0xBB, 0xBF, ) /∗ 直接序列 ∗/ \
    suffix(,)</span>
    <span class="nu0">0</span>
<span class="br0">}</span><span class="sy4">;</span>
 
<span class="co1">// 始终空终止，并且在序列非空时包含该序列</span>
 
<span class="kw4">constexpr</span> <span class="kw4">bool</span> is_empty <span class="sy1">=</span> sizeof<span class="br0">(</span>whl<span class="br0">)</span> <span class="sy1">==</span> <span class="nu0">1</span> <span class="sy3">&amp;&amp;</span> whl<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy1">==</span> <span class="st0">'<span class="es5">\0</span>'</span><span class="sy4">;</span>
 
<span class="kw4">constexpr</span> <span class="kw4">bool</span> is_not_empty <span class="sy1">=</span> sizeof<span class="br0">(</span>whl<span class="br0">)</span> <span class="sy1">&gt;=</span> <span class="nu0">4</span>
    <span class="sy3">&amp;&amp;</span> whl<span class="br0">[</span>sizeof<span class="br0">(</span>whl<span class="br0">)</span> <span class="sy2">-</span> <span class="nu0">1</span><span class="br0">]</span> <span class="sy1">==</span> <span class="st0">'<span class="es5">\0</span>'</span>
    <span class="sy3">&amp;&amp;</span> whl<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy1">==</span> <span class="st0">'<span class="es2">\xEF</span>'</span> <span class="sy3">&amp;&amp;</span> whl<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy1">==</span> <span class="st0">'<span class="es2">\xBB</span>'</span> <span class="sy3">&amp;&amp;</span> whl<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span> <span class="sy1">==</span> <span class="st0">'<span class="es2">\xBF</span>'</span><span class="sy4">;</span>
 
static_assert<span class="br0">(</span>is_empty <span class="sy3">||</span> is_not_empty<span class="br0">)</span><span class="sy4">;</span></pre></div></div>
<p><span id="if_empty_.E5.8F.82.E6.95.B0"></span>
</p>
<h4><span class="mw-headline" id="if_empty_.E5.8F.82.E6.95.B0"><code>if_empty</code> 参数</span></h4>
<p>形式为 <code><b>if_empty</b></code> <code><b>(</b></code> <span class="t-spar">平衡记号序列</span> ﻿<span class="t-mark" style="white-space: nowrap;">(可选)</span> <code><b>)</b></code> 的嵌入参数在每个 <span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 指令中最多只能出现一次。
</p><p>如果资源<b>不</b>为空，那么忽略此嵌入参数。否则以<span class="t-spar">平衡记号序列</span> ﻿替换该 <span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 指令。
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// 无论 /owo/uwurandom 有什么内容都会展开为 42203</span>
<span class="co2">#embed &lt;/owo/uwurandom&gt; if_empty(42203) limit(0)</span></pre></div></div>
<h3><span class="mw-headline" id=".E6.B3.A8.E8.A7.A3">注解</span></h3>
<table class="wikitable ftm-begin">

<tr>
<th>功能特性测试宏</th>
<th><abbr title="采纳该特性的年/月。每个值下面的链接指向编译期支持页面中给定功能特性的条目。">值</abbr></th>
<th><abbr title="引入该特性的标准；DR 意为针对该修订版的缺陷报告">标准</abbr></th>
<th>功能特性
</th></tr>
<tr>
<td><a href="../feature_test.html#cpp_pp_embed" title="cpp/feature test"><code>__cpp_pp_embed</code></a></td>
<td><a href="../compiler_support/26.html#cpp_pp_embed_202502L" title="cpp/compiler support/26"><code>202502L</code></a></td>
<td><span class="t-mark" style="white-space: nowrap;">(C++26)</span></td>
<td><span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 指令
</td></tr></table>
<h3><span class="mw-headline" id=".E7.A4.BA.E4.BE.8B">示例</span></h3>
<p>演示 <span class="mw-geshi cpp source-cpp"><span class="co2">#embed</span></span> 的效果。如果在翻译环境中可以将 <code>data.dat</code> 作为资源嵌入，那么以下程序中的所有断言都不会失败。
</p>
<div class="t-example"><div class="t-example-live-link"><div class="coliru-btn coliru-btn-run-init">运行此代码</div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co2">#include &lt;cassert&gt;</span>
<span class="co2">#include &lt;cstddef&gt;</span>
<span class="co2">#include &lt;cstring&gt;</span>
<span class="co2">#include &lt;fstream&gt;</span>
<span class="co2">#include &lt;vector&gt;</span>
 
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw4">constexpr</span> <span class="kw4">unsigned</span> <span class="kw4">char</span> d<span class="br0">[</span><span class="br0">]</span>
    <span class="br0">{</span>
<span class="co2">#embed &lt;data.dat&gt;</span>
    <span class="br0">}</span><span class="sy4">;</span>
 
    <span class="kw4">const</span> <a href="../container/vector.html"><span class="kw1272">std::<span class="me2">vector</span></span></a><span class="sy1">&lt;</span><span class="kw4">unsigned</span> <span class="kw4">char</span><span class="sy1">&gt;</span> vec_d
    <span class="br0">{</span>
<span class="co2">#embed &lt;data.dat&gt;</span>
    <span class="br0">}</span><span class="sy4">;</span>
 
    <span class="kw4">constexpr</span> <a href="../types/size_t.html"><span class="kw107">std::<span class="me2">size_t</span></span></a> expected_size <span class="sy1">=</span> sizeof<span class="br0">(</span>d<span class="br0">)</span><span class="sy4">;</span>
    <span class="co1">// 与在执行环境中嵌入的文件相同</span>
    <a href="../io/basic_ifstream.html"><span class="kw1736">std::<span class="me2">ifstream</span></span></a> f_source<span class="br0">(</span><span class="st0">"data.dat"</span>, <a href="../io/ios_base/openmode.html"><span class="kw1677">std::<span class="me2">ios_base</span><span class="sy4">::</span><span class="me2">binary</span></span></a> <span class="sy3">|</span> <a href="../io/ios_base/openmode.html"><span class="kw1678">std::<span class="me2">ios_base</span><span class="sy4">::</span><span class="me2">in</span></span></a><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw4">unsigned</span> <span class="kw4">char</span> runtime_d<span class="br0">[</span>expected_size<span class="br0">]</span><span class="sy4">;</span>
 
    <span class="kw4">char</span><span class="sy2">*</span> ifstream_ptr <span class="sy1">=</span> <span class="kw1">reinterpret_cast</span><span class="sy1">&lt;</span><span class="kw4">char</span><span class="sy2">*</span><span class="sy1">&gt;</span><span class="br0">(</span>runtime_d<span class="br0">)</span><span class="sy4">;</span>
    <a href="../error/assert.html"><span class="kw776">assert</span></a><span class="br0">(</span><span class="sy3">!</span>f_source.<span class="me1">read</span><span class="br0">(</span>ifstream_ptr, expected_size<span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span>
 
    <a href="../types/size_t.html"><span class="kw107">std::<span class="me2">size_t</span></span></a> ifstream_size <span class="sy1">=</span> f_source.<span class="me1">gcount</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
    <a href="../error/assert.html"><span class="kw776">assert</span></a><span class="br0">(</span>ifstream_size <span class="sy1">==</span> expected_size<span class="br0">)</span><span class="sy4">;</span>
 
    <span class="kw4">int</span> is_same <span class="sy1">=</span> <a href="../string/byte/memcmp.html"><span class="kw1160">std::<span class="me2">memcmp</span></span></a><span class="br0">(</span><span class="sy3">&amp;</span>d<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>, ifstream_ptr, ifstream_size<span class="br0">)</span><span class="sy4">;</span>
    <a href="../error/assert.html"><span class="kw776">assert</span></a><span class="br0">(</span>is_same <span class="sy1">==</span> <span class="nu0">0</span><span class="br0">)</span><span class="sy4">;</span>
 
    <span class="kw4">int</span> is_same_vec <span class="sy1">=</span> <a href="../string/byte/memcmp.html"><span class="kw1160">std::<span class="me2">memcmp</span></span></a><span class="br0">(</span>vec_d.<span class="me1">data</span><span class="br0">(</span><span class="br0">)</span>, ifstream_ptr, ifstream_size<span class="br0">)</span><span class="sy4">;</span>
    <a href="../error/assert.html"><span class="kw776">assert</span></a><span class="br0">(</span>is_same_vec <span class="sy1">==</span> <span class="nu0">0</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
</div>
<h3><span class="mw-headline" id=".E5.BC.95.E7.94.A8">引用</span></h3>
<div class="t-ref-std-c++26">
<ul><li> C++26 标准（ISO/IEC 14882:2026）：
</li></ul>
<dl><dd><ul><li> 15.4 Resource inclusion [cpp.embed]
</li></ul>
</dd></dl>
</div>
<h3><span class="mw-headline" id=".E5.8F.82.E9.98.85">参阅</span></h3>
<table class="t-dsc-begin">
<ul><li> <a href="include.html" title="cpp/preprocessor/include">源文件包含</a>
</li></ul>

<tr class="t-dsc">
<td colspan="2"> <div class="t-dsc-see"><span class=""><span>二进制资源包含 <span class="t-mark-rev t-since-c23" style="white-space: nowrap;">(C23 起)</span></span></span>的 <span><span><a href="../../c/preprocessor/embed.html" title="c/preprocessor/embed">C 文档</a></span></span></div>
</td></tr>

</table>

<!-- 
NewPP limit report
Preprocessor visited node count: 5431/1000000
Preprocessor generated node count: 11536/1000000
Post‐expand include size: 163515/4194304 bytes
Template argument size: 27859/4194304 bytes
Highest expansion depth: 16/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_zh_:pcache:idhash:17095-0!*!0!!zh!*!zh!* and timestamp 20250325153052 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    来自“<a href="https://zh.cppreference.com/mwiki/index.php?title=cpp/preprocessor/embed&amp;oldid=100200">https://zh.cppreference.com/mwiki/index.php?title=cpp/preprocessor/embed&amp;oldid=100200</a>”                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        <div id="cpp-footer-base" class="noprint">
            <div id="footer">
                        <div id="cpp-navigation">
            <h5>导航</h5>
            <ul><li><a href="https://zh.cppreference.com/w/cpp/preprocessor/embed">Online version</a></li><li>Offline version retrieved 2025-04-04 09:58.</li></ul></div>
                        <ul id="footer-info">
                                    <li id="footer-info-lastmod"> 本页面最后修改于2025年3月24日 (星期一) 22:46。</li>
                            </ul>
                    </div>
        </div>
        <!-- /footer -->
        <script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="../../../common/skin_scripts.js"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi","ext.gadget.MathJax","ext.gadget.ColiruCompiler"], null, true);
}</script>
<script src="../../../common/site_scripts.js"></script>
<!-- Served in 4.345 secs. -->
	</body>
<!-- Cached 20250325153052 -->
</html>